<section class="teachers" id="teachers">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="section-title">Đội ngũ giảng viên</h2>
      <p class="section-subtitle">Đồng hành cùng giáo viên bản ngữ, chứng nhận quốc tế.</p>
    </div>

    <div id="teachersCarousel" class="carousel slide carousel-multi" data-bs-ride="carousel" data-bs-interval="5000">
      <div class="carousel-inner">
        {% if teachers %}
          {% for teacher in teachers %}
            {% if forloop.first or forloop.counter0|divisibleby:3 %}
            <div class="carousel-item {% if forloop.first %}active{% endif %}">
              <div class="row g-4">
            {% endif %}

                <div class="col-md-6 col-lg-4">
                  <article class="teacher-card animate-on-scroll{% if force_visible %} visible{% endif %}" tabindex="0" aria-label="Giảng viên {{ teacher.name }}">
                    <div class="teacher-media">
                      <img src="{{ teacher.avatar_url }}" alt="{{ teacher.name }}" class="teacher-img" loading="lazy" />
                      <div class="teacher-name-pill"><span class="name">{{ teacher.name }}</span></div>
                      <div class="teacher-overlay" aria-hidden="true">
                        <div class="teacher-panel">
                          <h3 class="name">{{ teacher.name }}</h3>
                          <p class="meta">
                            {% if teacher.role %}<span class="role">{{ teacher.role }}</span>{% endif %}
                            {% if teacher.experience_years %}
                            <span class="dot">•</span><span class="exp">{{ teacher.experience_years }} năm kinh nghiệm</span>
                            {% endif %}
                          </p>
                          {% if teacher.bio %}
                            <p class="bio">{{ teacher.bio }}</p>
                          {% endif %}
                        </div>
                      </div>
                    </div>
                  </article>
                </div>

            {% if forloop.counter|divisibleby:3 or forloop.last %}
              </div>
            </div>
            {% endif %}
          {% endfor %}
        {% else %}
          <div class="carousel-item active">
            <div class="row justify-content-center">
              <div class="col-md-8 text-center text-muted py-4">Thông tin giảng viên đang được cập nhật.</div>
            </div>
          </div>
        {% endif %}
      </div>

      {% if teachers|length > 3 %}
        <button class="carousel-control-prev" type="button" data-bs-target="#teachersCarousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Trước</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#teachersCarousel" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Sau</span>
        </button>
      {% endif %}
    </div>
  </div>
</section>
