{% load static %}
<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Global English - Mở ra thế giới với ngôn ngữ toàn cầu</title>

    <!-- Fonts & Libs -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://unpkg.com/htmx.org@1.9.2"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.5/dist/cdn.min.js"></script>

    <!-- SCSS -->
    <link rel="stylesheet" href="{% static 'public/css/home.css' %}" />
  </head>

  <body>
    <!-- NAV -->
    <nav class="navbar navbar-expand-lg site-nav" aria-label="Điều hướng chính">
      <div class="container">
        <a class="navbar-brand" href="#hero">Global English</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav" aria-controls="mainNav" aria-expanded="false" aria-label="Mở menu">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="mainNav">
          <ul class="navbar-nav ms-auto align-items-lg-center">
            {% for link in nav_links %}
              <li class="nav-item"><a class="nav-link" href="{{ link.href }}">{{ link.label }}</a></li>
            {% endfor %}
          </ul>
          <a class="btn btn-light btn-sm rounded-pill ms-lg-3 mt-3 mt-lg-0" href="{% url 'main:login' %}">Đăng nhập</a>
        </div>
      </div>
    </nav>

    <!-- HERO -->
    <header id="hero" class="hero" x-data="{ loaded: false }" x-init="setTimeout(() => (loaded = true), 100)">
      <div class="hero__background"></div>

      <div class="container position-relative">
        <div class="row align-items-center">
          <div class="col-lg-6">
            <div class="hero__content">
              <p class="hero__eyebrow text-uppercase small fw-semibold mb-3">{{ hero_setting.eyebrow }}</p>
              <h1 class="hero__title display-4 fw-bold mb-4"
                  x-data="{ text: '{{ hero_setting.typed_text|escapejs }}', displayedText: '', index: 0 }"
                  x-init="setTimeout(() => {
                    const i = setInterval(() => {
                      if ($data.index < $data.text.length) {
                        $data.displayedText += $data.text[$data.index]; $data.index += 1;
                      } else { clearInterval(i); }
                    }, 90);
                  }, 400)">
                <span x-text="displayedText"></span><span class="hero__cursor">|</span>
              </h1>
              <p class="hero__subtitle lead mb-4">{{ hero_setting.subtitle }}</p>
              <div class="d-flex flex-wrap gap-3">
                <a class="btn btn-light btn-lg rounded-pill px-4 hero__cta" href="{{ hero_setting.primary_cta_href }}">
                  <i class="fas fa-headset me-2"></i> {{ hero_setting.primary_cta_label }}
                </a>
                {% if hero_setting.secondary_cta_label %}
                <a class="btn btn-outline-light btn-lg rounded-pill px-4" href="{{ hero_setting.secondary_cta_href }}">
                  <i class="fas fa-play-circle me-2"></i> {{ hero_setting.secondary_cta_label }}
                </a>
                {% endif %}
              </div>
            </div>
          </div>
          <div class="col-lg-6 d-none d-lg-block">
            <aside class="hero__highlights">
              {% for highlight in hero_highlights %}
              <article class="floating-card">
                <span class="floating-card__icon"><i class="{{ highlight.icon }}"></i></span>
                <div>
                  <h3 class="h5 mb-2">{{ highlight.title }}</h3>
                  <p class="mb-0 text-white-50">{{ highlight.description }}</p>
                </div>
              </article>
              {% endfor %}
            </aside>
          </div>
        </div>
      </div>
    </header>

    <main>
      <!-- FEATURES (giữ nguyên) -->
      <div
        id="features-fragment"
        hx-get="{% url 'main:home_section' 'features' %}"
        hx-trigger="load""
        hx-target="this"
        hx-swap="outerHTML"
      >
        {% include "public/fragments/features.html" %}
      </div>

      <div
        id="courses-fragment"
        hx-get="{% url 'main:home_section' 'courses' %}"
        hx-trigger="load""
        hx-target="this"
        hx-swap="outerHTML"
      >
        {% include "public/fragments/courses.html" %}
      </div>

      

      <!-- TEACHERS (giữ nguyên) -->
      <div
        id="teachers-fragment"
        hx-get="{% url 'main:home_section' 'teachers' %}"
        hx-trigger="load""
        hx-target="this"
        hx-swap="outerHTML"
      >
        {% include "public/fragments/teachers.html" %}
      </div>


      
      <!-- ======= GRADUATES ======= -->
      <div
        id="graduates-fragment"
        hx-get="{% url 'main:home_section' 'graduates' %}"
        hx-trigger="load""
        hx-target="this"
        hx-swap="outerHTML"
      >
        {% include "public/fragments/graduates.html" %}
      </div>

      

<!-- TESTIMONIALS + ADVISORY (giữ nguyên) -->
      <div
        id="testimonials-fragment"
        hx-get="{% url 'main:home_section' 'testimonials' %}"
        hx-trigger="load""
        hx-target="this"
        hx-swap="outerHTML"
      >
        {% include "public/fragments/testimonials.html" %}
      </div>

      
      <div
        id="achievements-fragment"
        hx-get="{% url 'main:home_section' 'achievements' %}"
        hx-trigger="load""
        hx-target="this"
        hx-swap="outerHTML"
      >
        {% include "public/fragments/achievements.html" %}
      </div>

      <section class="advisory" id="advisory">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-lg-8">
              <div class="advisory-card">
                <h2 class="advisory-title text-center">Cần tư vấn lộ trình học phù hợp?</h2>
                <p class="advisory-subtitle text-center">Nhập thông tin, đội ngũ tư vấn sẽ liên hệ sớm nhất.</p>
                <form class="row g-3" hx-post="/api/advisory" hx-target="#advisory-response" hx-swap="innerHTML">
                  <div class="col-md-6">
                    <label for="adv-name" class="form-label">Họ và tên</label>
                    <input id="adv-name" class="form-control form-control-lg" placeholder="Nguyễn Văn A" required />
                  </div>
                  <div class="col-md-6">
                    <label for="adv-phone" class="form-label">Số điện thoại</label>
                    <input id="adv-phone" type="tel" class="form-control form-control-lg" placeholder="09xx xxx xxx" required />
                  </div>
                  <div class="col-md-6">
                    <label for="adv-email" class="form-label">Email</label>
                    <input id="adv-email" type="email" class="form-control form-control-lg" placeholder="ban@example.com" required />
                  </div>
                  <div class="col-md-6">
                    <label for="adv-goal" class="form-label">Mục tiêu</label>
                    <select id="adv-goal" class="form-select form-select-lg" required>
                      <option value="">Chọn mục tiêu</option>
                      <option value="communication">Cải thiện giao tiếp</option>
                      <option value="business">Tiếng Anh công việc</option>
                      <option value="ielts">Luyện thi IELTS</option>
                      <option value="kids">Khóa học thiếu nhi</option>
                    </select>
                  </div>
                  <div class="col-12">
                    <label for="adv-message" class="form-label">Nhu cầu cụ thể</label>
                    <textarea id="adv-message" class="form-control" rows="4" placeholder="Chia sẻ thêm về kỳ vọng hoặc thời gian học của bạn..."></textarea>
                  </div>
                  <div class="col-12">
                    <button type="submit" class="btn btn-primary btn-lg w-100 rounded-pill">
                      <i class="fas fa-paper-plane me-2"></i> Gửi yêu cầu tư vấn
                    </button>
                  </div>
                </form>
                <div id="advisory-response" class="mt-3 text-center"></div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container">
        <div class="row gy-4">
          <div class="col-lg-4">
            <h3 class="site-footer__title">Global English</h3>
            <p class="site-footer__text">Trung tâm đào tạo tiếng Anh toàn diện.</p>
            <nav class="site-footer__social" aria-label="Kênh mạng xã hội">
              <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
              <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
              <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
              <a href="#" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
            </nav>
          </div>
          <div class="col-6 col-lg-2">
            <h4 class="site-footer__column-title">Chương trình</h4>
            <ul class="site-footer__links list-unstyled">
              {% for item in footer_programs %}<li><a href="{{ item.href }}">{{ item.label }}</a></li>{% endfor %}
            </ul>
          </div>
          <div class="col-6 col-lg-2">
            <h4 class="site-footer__column-title">Về chúng tôi</h4>
            <ul class="site-footer__links list-unstyled">
              {% for item in footer_about %}<li><a href="{{ item.href }}">{{ item.label }}</a></li>{% endfor %}
            </ul>
          </div>
          <div class="col-lg-4">
            <h4 class="site-footer__column-title">Liên hệ</h4>
            <ul class="site-footer__info list-unstyled">
              <li><i class="fas fa-map-marker-alt me-2"></i>123 Nguyễn Văn Linh, Quận 7, TP.HCM</li>
              <li><i class="fas fa-phone me-2"></i>(028) 1234 5678</li>
              <li><i class="fas fa-envelope me-2"></i>info@globalenglish.edu.vn</li>
            </ul>
          </div>
        </div>
        <hr class="site-footer__divider" />
        <div class="d-flex flex-column flex-md-row justify-content-between align-items-center">
          <p class="mb-2 mb-md-0">© {{ now|date:"Y" }} Global English. All rights reserved.</p>
          <p class="mb-0">Phát triển vì cộng đồng học tiếng Anh.</p>
        </div>
      </div>
    </footer>

    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'public/js/home.js' %}"></script>
  </body>
</html>
